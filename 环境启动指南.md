# ä¼ä¸šçŸ¥è¯†åº“é¡¹ç›®çŽ¯å¢ƒå¯åŠ¨æŒ‡å—

## ðŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜Žäº†ä¼ä¸šçŸ¥è¯†åº“é¡¹ç›®çš„çŽ¯å¢ƒæž¶æž„å’Œå¯åŠ¨æµç¨‹ï¼Œå¸®åŠ©æ‚¨ç†è§£ä¸ºä»€ä¹ˆéœ€è¦æ¿€æ´»çŽ¯å¢ƒï¼Œä»¥åŠå¦‚ä½•æ­£ç¡®å¯åŠ¨é¡¹ç›®ã€‚

## ðŸ—ï¸ ç³»ç»Ÿæž¶æž„å±‚æ¬¡

```
æ“ä½œç³»ç»Ÿ (Linux Ubuntu)
    â†“
Pythonè§£é‡Šå™¨ (ç³»ç»ŸPython 3.8)
    â†“
Conda (PythonçŽ¯å¢ƒç®¡ç†å™¨)
    â†“
è™šæ‹ŸçŽ¯å¢ƒ (kb_enterprise_py310)
    â†“
é¡¹ç›®ä»£ç  (LLaMA-Factory)
```

## ðŸ” æ¦‚å¿µè§£é‡Š

### 1. æ“ä½œç³»ç»Ÿ (Linux)
- **ä½œç”¨**: ç®¡ç†ç¡¬ä»¶èµ„æºï¼Œæä¾›åŸºç¡€æœåŠ¡
- **ç±»æ¯”**: æˆ¿å­çš„åœ°åŸºå’Œæ¡†æž¶
- **åŒ…å«**: æ–‡ä»¶ç³»ç»Ÿã€è¿›ç¨‹ç®¡ç†ã€ç½‘ç»œç­‰

### 2. Pythonè§£é‡Šå™¨
- **ä½œç”¨**: æ‰§è¡ŒPythonä»£ç 
- **ç±»æ¯”**: èƒ½ç†è§£Pythonè¯­è¨€çš„ç¿»è¯‘å®˜
- **ä½ç½®**: ç³»ç»Ÿè‡ªå¸¦ï¼Œé€šå¸¸åœ¨ `/usr/bin/python`

### 3. Conda (çŽ¯å¢ƒç®¡ç†å™¨)
- **ä½œç”¨**: ç®¡ç†å¤šä¸ªPythonçŽ¯å¢ƒ
- **ç±»æ¯”**: èƒ½åˆ›å»ºå¤šä¸ªç‹¬ç«‹æˆ¿é—´çš„ç®¡ç†å‘˜
- **åŠŸèƒ½**: 
  - åˆ›å»ºä¸åŒçš„PythonçŽ¯å¢ƒ
  - æ¯ä¸ªçŽ¯å¢ƒæœ‰ç‹¬ç«‹çš„åŒ…å’Œç‰ˆæœ¬
  - é¿å…åŒ…å†²çª

### 4. è™šæ‹ŸçŽ¯å¢ƒ (kb_enterprise_py310)
- **ä½œç”¨**: ç‹¬ç«‹çš„Pythonå·¥ä½œç©ºé—´
- **ç±»æ¯”**: ç‹¬ç«‹çš„æˆ¿é—´ï¼Œæœ‰è‡ªå·±çš„å®¶å…·(åŒ…)
- **ç‰¹ç‚¹**: 
  - ç‹¬ç«‹çš„Pythonç‰ˆæœ¬ (3.10)
  - ç‹¬ç«‹çš„åŒ…å®‰è£… (transformers, accelerate, torchç­‰)
  - ä¸å½±å“å…¶ä»–çŽ¯å¢ƒ

### 5. é¡¹ç›®ä»£ç  (LLaMA-Factory)
- **ä½œç”¨**: å…·ä½“çš„åº”ç”¨ä»£ç 
- **ç±»æ¯”**: æˆ¿é—´é‡Œçš„å…·ä½“å·¥ä½œå†…å®¹
- **ä¾èµ–**: éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„åŒ…å’ŒçŽ¯å¢ƒ

## ðŸ”„ ä¸ºä»€ä¹ˆéœ€è¦æ¿€æ´»çŽ¯å¢ƒï¼Ÿ

### é—®é¢˜åœºæ™¯
```
ç³»ç»ŸPython: Python 3.8 + åŸºç¡€åŒ…
é¡¹ç›®éœ€æ±‚: Python 3.10 + ç‰¹å®šåŒ…(transformers, accelerateç­‰)
```

### è§£å†³æ–¹æ¡ˆ
```
Condaåˆ›å»ºçŽ¯å¢ƒ: kb_enterprise_py310
- Python 3.10
- transformers
- accelerate
- torch
- å…¶ä»–é¡¹ç›®éœ€è¦çš„åŒ…
```

### æ¿€æ´»è¿‡ç¨‹
```bash
# æ¿€æ´»å‰: ä½¿ç”¨ç³»ç»ŸPython
(base) root@... # ç³»ç»Ÿé»˜è®¤çŽ¯å¢ƒ

# æ¿€æ´»åŽ: ä½¿ç”¨é¡¹ç›®ä¸“ç”¨çŽ¯å¢ƒ
(kb_enterprise_py310) root@... # é¡¹ç›®çŽ¯å¢ƒ
```

## ðŸš€ æ¯æ¬¡æ–°å¼€ç»ˆç«¯çš„æ ‡å‡†æ“ä½œæµç¨‹

### å®Œæ•´å¯åŠ¨å‘½ä»¤åºåˆ—
```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /root/autodl-tmp/enterprise_kb/LLaMA-Factory

# 2. æ¿€æ´»é¡¹ç›®çŽ¯å¢ƒ
conda activate kb_enterprise_py310

# 3. ç¡®è®¤çŽ¯å¢ƒæ¿€æ´»æˆåŠŸ
conda info --envs

# 4. æ£€æŸ¥GPUçŠ¶æ€
nvidia-smi

# 5. æ‰§è¡Œé¡¹ç›®ä»£ç 
python src/train.py [å‚æ•°...]
```

### çŽ¯å¢ƒçŠ¶æ€ç¡®è®¤
```bash
# æŸ¥çœ‹å½“å‰çŽ¯å¢ƒ
conda info --envs

# åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
# base                     /root/autodl-tmp/enterprise_kb/conda
# kb_enterprise_py310  *  /root/autodl-tmp/enterprise_kb/conda/envs/kb_enterprise_py310
# æ˜Ÿå·(*)è¡¨ç¤ºå½“å‰æ¿€æ´»çš„çŽ¯å¢ƒ
```

## âš ï¸ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜1: çŽ¯å¢ƒæ¿€æ´»å¤±è´¥
```bash
# é”™è¯¯ä¿¡æ¯
conda: command not found

# è§£å†³æ–¹æ¡ˆ
source ~/.bashrc
# æˆ–è€…
export PATH="/root/autodl-tmp/enterprise_kb/conda/bin:$PATH"
```

### é—®é¢˜2: ç¼ºå°‘ä¾èµ–åŒ…
```bash
# é”™è¯¯ä¿¡æ¯
ModuleNotFoundError: No module named 'accelerate'

# è§£å†³æ–¹æ¡ˆ
pip install accelerate
pip install -r requirements.txt
```

### é—®é¢˜3: çŽ¯å¢ƒè·¯å¾„é”™è¯¯
```bash
# æ£€æŸ¥çŽ¯å¢ƒè·¯å¾„
conda env list

# é‡æ–°åˆ›å»ºçŽ¯å¢ƒï¼ˆå¦‚æžœéœ€è¦ï¼‰
conda create -n kb_enterprise_py310 python=3.10
conda activate kb_enterprise_py310
pip install -r requirements.txt
```

## ðŸ“ å¿«é€Ÿå¯åŠ¨è„šæœ¬

### åˆ›å»ºå¯åŠ¨è„šæœ¬
```bash
# åˆ›å»ºå¯åŠ¨è„šæœ¬
cat > start_project.sh << 'EOF'
#!/bin/bash
echo "ðŸš€ å¯åŠ¨ä¼ä¸šçŸ¥è¯†åº“é¡¹ç›®çŽ¯å¢ƒ..."

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /root/autodl-tmp/enterprise_kb/LLaMA-Factory
echo "ðŸ“ è¿›å…¥é¡¹ç›®ç›®å½•: $(pwd)"

# æ¿€æ´»çŽ¯å¢ƒ
echo "ðŸ”§ æ¿€æ´»PythonçŽ¯å¢ƒ..."
source /root/autodl-tmp/enterprise_kb/conda/bin/activate kb_enterprise_py310

# ç¡®è®¤çŽ¯å¢ƒ
echo "âœ… å½“å‰çŽ¯å¢ƒ: $(conda info --envs | grep '*')"

# æ£€æŸ¥GPU
echo "ðŸ–¥ï¸ æ£€æŸ¥GPUçŠ¶æ€..."
nvidia-smi

echo "ðŸŽ‰ çŽ¯å¢ƒå¯åŠ¨å®Œæˆï¼å¯ä»¥å¼€å§‹è®­ç»ƒäº†ã€‚"
echo "ðŸ’¡ æç¤º: ä½¿ç”¨ 'python src/train.py' å¼€å§‹è®­ç»ƒ"
EOF

# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x start_project.sh
```

### ä½¿ç”¨å¯åŠ¨è„šæœ¬
```bash
# æ¯æ¬¡æ–°å¼€ç»ˆç«¯ï¼Œåªéœ€æ‰§è¡Œï¼š
./start_project.sh
```

## ðŸ”§ çŽ¯å¢ƒç®¡ç†å‘½ä»¤

### å¸¸ç”¨Condaå‘½ä»¤
```bash
# æŸ¥çœ‹æ‰€æœ‰çŽ¯å¢ƒ
conda env list

# æŸ¥çœ‹å½“å‰çŽ¯å¢ƒ
conda info --envs

# æ¿€æ´»çŽ¯å¢ƒ
conda activate kb_enterprise_py310

# é€€å‡ºçŽ¯å¢ƒ
conda deactivate

# æŸ¥çœ‹çŽ¯å¢ƒä¸­çš„åŒ…
conda list

# å®‰è£…åŒ…
conda install package_name
# æˆ–è€…
pip install package_name
```

### çŽ¯å¢ƒæ¸…ç†
```bash
# åˆ é™¤çŽ¯å¢ƒï¼ˆè°¨æ…Žä½¿ç”¨ï¼‰
conda env remove -n kb_enterprise_py310

# æ¸…ç†ç¼“å­˜
conda clean --all
```

## ðŸ“š å­¦ä¹ èµ„æº

### åŸºç¡€æ¦‚å¿µ
- **LinuxåŸºç¡€**: æ–‡ä»¶ç³»ç»Ÿã€è¿›ç¨‹ç®¡ç†ã€æƒé™
- **PythonåŸºç¡€**: è¯­æ³•ã€åŒ…ç®¡ç†ã€è™šæ‹ŸçŽ¯å¢ƒ
- **Conda**: çŽ¯å¢ƒç®¡ç†ã€åŒ…ç®¡ç†

### æŽ¨èå­¦ä¹ è·¯å¾„
1. **LinuxåŸºç¡€å‘½ä»¤**: `cd`, `ls`, `pwd`, `chmod` ç­‰
2. **PythonåŸºç¡€**: è¯­æ³•ã€åŒ…å®‰è£…ã€çŽ¯å¢ƒç®¡ç†
3. **Condaä½¿ç”¨**: çŽ¯å¢ƒåˆ›å»ºã€æ¿€æ´»ã€åŒ…ç®¡ç†
4. **é¡¹ç›®ç‰¹å®š**: LLaMA-Factoryã€æ·±åº¦å­¦ä¹ æ¡†æž¶

## ðŸŽ¯ æ€»ç»“

### å…³é”®è¦ç‚¹
1. **æ¯æ¬¡æ–°å¼€ç»ˆç«¯éƒ½éœ€è¦æ¿€æ´»çŽ¯å¢ƒ**
2. **çŽ¯å¢ƒæ¿€æ´»ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„Pythonç‰ˆæœ¬å’ŒåŒ…**
3. **é¡¹ç›®ä¾èµ–ç‰¹å®šçŽ¯å¢ƒï¼Œä¸èƒ½ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çŽ¯å¢ƒ**
4. **ä½¿ç”¨å¯åŠ¨è„šæœ¬å¯ä»¥ç®€åŒ–æ“ä½œæµç¨‹**

### æ ‡å‡†æ“ä½œæµç¨‹
```bash
æ–°å¼€ç»ˆç«¯ â†’ è¿›å…¥é¡¹ç›®ç›®å½• â†’ æ¿€æ´»çŽ¯å¢ƒ â†’ ç¡®è®¤çŠ¶æ€ â†’ æ‰§è¡Œä»£ç 
```

### çŽ¯å¢ƒçŠ¶æ€æ£€æŸ¥
- å‘½ä»¤è¡Œå‰ç¼€æ˜¾ç¤º `(kb_enterprise_py310)`
- `conda info --envs` æ˜¾ç¤ºå½“å‰çŽ¯å¢ƒ
- èƒ½æ­£å¸¸å¯¼å…¥é¡¹ç›®ä¾èµ–åŒ…

---

**è®°ä½**: çŽ¯å¢ƒå°±æ˜¯é¡¹ç›®çš„"å·¥ä½œåœºæ‰€"ï¼Œæ¯æ¬¡è¿›å…¥éƒ½éœ€è¦"æ¿€æ´»"ï¼ðŸš€
