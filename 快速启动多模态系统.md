# ğŸš€ å¤šæ¨¡æ€ç³»ç»Ÿå¿«é€Ÿå¯åŠ¨æŒ‡å—

## âš¡ 5åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨

### 1. æ¿€æ´»ç¯å¢ƒ (30ç§’)
```bash
conda activate kb_enterprise
cd /root/autodl-tmp/enterprise_kb/jojoyçš„ä¼ä¸šçŸ¥è¯†åº“å®æˆ˜
```

### 2. å®‰è£…ä¾èµ– (2åˆ†é’Ÿ)
```bash
chmod +x install_multimodal_deps.sh
./install_multimodal_deps.sh
```

### 3. è¿è¡Œæµ‹è¯• (1åˆ†é’Ÿ)
```bash
python test_multimodal_system.py
```

### 4. å¯åŠ¨ç³»ç»Ÿ (1åˆ†é’Ÿ)
```bash
python multimodal_vectorizer.py
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½æ¼”ç¤º

### OCRæ–‡å­—è¯†åˆ«
```python
from multimodal_vectorizer import MultimodalVectorizer

# åˆå§‹åŒ–ç³»ç»Ÿ
vectorizer = MultimodalVectorizer()

# å¤„ç†å›¾åƒæ–‡ä»¶
image_docs = vectorizer.process_image("business_chart.png")
print(f"è¯†åˆ«åˆ° {len(image_docs)} ä¸ªæ–‡æ¡£")
```

### å›¾è¡¨ç†è§£
```python
# è‡ªåŠ¨è¯†åˆ«å›¾è¡¨å†…å®¹
for doc in image_docs:
    if doc.metadata.get('type') == 'image_chart':
        print(f"å›¾è¡¨åˆ†æ: {doc.page_content}")
```

### è§†é¢‘åˆ†æ
```python
# å¤„ç†è§†é¢‘æ–‡ä»¶
video_docs = vectorizer.process_video("product_demo.mp4")
print(f"è§†é¢‘åˆ†æå®Œæˆï¼Œç”Ÿæˆ {len(video_docs)} ä¸ªæ–‡æ¡£")
```

### éŸ³é¢‘ç‰¹å¾æå–
```python
# å¤„ç†éŸ³é¢‘æ–‡ä»¶
audio_docs = vectorizer.process_audio("customer_call.wav")
print(f"éŸ³é¢‘åˆ†æå®Œæˆï¼Œç”Ÿæˆ {len(audio_docs)} ä¸ªæ–‡æ¡£")
```

### ç»Ÿä¸€æ£€ç´¢
```python
# æ„å»ºå‘é‡æ•°æ®åº“
all_docs = image_docs + video_docs + audio_docs
vectorizer.build_vector_database(all_docs, "multimodal_kb")

# è·¨æ¨¡æ€æœç´¢
results = vectorizer.search_similar("å®¢æˆ·æ»¡æ„åº¦", top_k=5)
for result in results:
    print(f"ç±»å‹: {result['metadata']['type']}")
    print(f"å†…å®¹: {result['content'][:100]}...")
    print(f"ç›¸ä¼¼åº¦: {result['similarity_score']:.4f}")
```

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1: EasyOCRå®‰è£…å¤±è´¥
```bash
# ä½¿ç”¨CPUç‰ˆæœ¬
pip install easyocr --no-deps
pip install torch torchvision --index-url https://download.pytorch.org/whl/cpu
```

### é—®é¢˜2: GPUå†…å­˜ä¸è¶³
```python
# åœ¨ä»£ç ä¸­è®¾ç½®
vectorizer = MultimodalVectorizer(device="cpu")
```

### é—®é¢˜3: ä¾èµ–å†²çª
```bash
# é‡æ–°åˆ›å»ºç¯å¢ƒ
conda create -n kb_enterprise_new python=3.8
conda activate kb_enterprise_new
pip install -r requirements.txt
```

## ğŸ“Š æ€§èƒ½ç›‘æ§

### GPUä½¿ç”¨æƒ…å†µ
```bash
nvidia-smi
watch -n 1 nvidia-smi
```

### å†…å­˜ä½¿ç”¨æƒ…å†µ
```bash
htop
free -h
```

### å¤„ç†è¿›åº¦
```python
# å¯ç”¨è¿›åº¦æ¡
from tqdm import tqdm
import time

for i in tqdm(range(100), desc="å¤„ç†è¿›åº¦"):
    time.sleep(0.1)
```

## ğŸ¨ è‡ªå®šä¹‰é…ç½®

### è°ƒæ•´OCRå‚æ•°
```python
import easyocr

# è‡ªå®šä¹‰OCRé…ç½®
reader = easyocr.Reader(
    ['ch_sim', 'en'],
    gpu=True,
    model_storage_directory="./ocr_models",
    download_enabled=True
)
```

### è°ƒæ•´å›¾åƒå¤„ç†
```python
# è‡ªå®šä¹‰å›¾åƒå¤„ç†å‚æ•°
vectorizer.image_processor.max_frames = 20  # å¢åŠ å…³é”®å¸§æ•°é‡
vectorizer.image_processor.ocr_confidence_threshold = 0.7  # æé«˜OCRç½®ä¿¡åº¦
```

### è°ƒæ•´éŸ³é¢‘å¤„ç†
```python
# è‡ªå®šä¹‰éŸ³é¢‘å¤„ç†å‚æ•°
vectorizer.audio_processor.sample_rate = 44100  # æé«˜é‡‡æ ·ç‡
vectorizer.audio_processor.mfcc_features = 20  # å¢åŠ MFCCç‰¹å¾æ•°
```

## ğŸš€ é«˜çº§ç”¨æ³•

### æ‰¹é‡å¤„ç†
```python
# å¤„ç†æ•´ä¸ªç›®å½•
docs_dir = "business_documents/"
all_docs = vectorizer.process_directory(docs_dir)

# å¯ç”¨å¹¶è¡Œå¤„ç†
vectorizer.enable_parallel_processing(num_workers=4)
```

### å¢é‡æ›´æ–°
```python
# åŠ è½½ç°æœ‰æ•°æ®åº“
vectorizer.load_vector_database("existing_kb")

# æ·»åŠ æ–°æ–‡æ¡£
new_docs = vectorizer.process_file("new_document.pdf")
vectorizer.add_documents(new_docs)

# ä¿å­˜æ›´æ–°
vectorizer.save_vector_database("updated_kb")
```

### ç±»å‹è¿‡æ»¤æœç´¢
```python
# åªæœç´¢å›¾åƒç»“æœ
image_results = vectorizer.search_similar("å›¾è¡¨åˆ†æ", filter_type="image_ocr")

# åªæœç´¢è§†é¢‘ç»“æœ
video_results = vectorizer.search_similar("äº§å“æ¼”ç¤º", filter_type="video_info")

# åªæœç´¢éŸ³é¢‘ç»“æœ
audio_results = vectorizer.search_similar("å®¢æˆ·åé¦ˆ", filter_type="audio_features")
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. GPUä¼˜åŒ–
- ä½¿ç”¨RTX 4090Dçš„24GBæ˜¾å­˜
- å¯ç”¨æ··åˆç²¾åº¦è®¡ç®—
- è°ƒæ•´æ‰¹å¤„ç†å¤§å°

### 2. å†…å­˜ä¼˜åŒ–
- ä½¿ç”¨SSDå­˜å‚¨
- å¯ç”¨æ•°æ®å‹ç¼©
- å®šæœŸæ¸…ç†ç¼“å­˜

### 3. å¤„ç†ä¼˜åŒ–
- å¹¶è¡Œå¤„ç†å¤šä¸ªæ–‡ä»¶
- é¢„åŠ è½½å¸¸ç”¨æ¨¡å‹
- ä½¿ç”¨å¢é‡æ›´æ–°

## ğŸ”® ä¸‹ä¸€æ­¥æ‰©å±•

### 1. é›†æˆQwen Agent
```python
# ä¸ç°æœ‰é—®ç­”ç³»ç»Ÿé›†æˆ
from qwen_agent_integration import QwenAgentIntegration

agent = QwenAgentIntegration(vectorizer)
response = agent.query("åˆ†æè¿™ä¸ªé”€å”®å›¾è¡¨")
```

### 2. æ·»åŠ Webç•Œé¢
```python
# åˆ›å»ºFlaskåº”ç”¨
from flask import Flask, request, jsonify

app = Flask(__name__)

@app.route('/search', methods=['POST'])
def search():
    query = request.json['query']
    results = vectorizer.search_similar(query)
    return jsonify(results)
```

### 3. å®æ—¶å¤„ç†
```python
# æ”¯æŒå®æ—¶æµå¤„ç†
vectorizer.enable_stream_processing()
vectorizer.process_stream(video_stream)
```

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨ï¼

ç°åœ¨ä½ å·²ç»æœ‰äº†å®Œæ•´çš„å¤šæ¨¡æ€ä¼ä¸šçŸ¥è¯†åº“ç³»ç»Ÿï¼

**ç«‹å³è¡ŒåŠ¨**:
1. è¿è¡Œå®‰è£…è„šæœ¬
2. æµ‹è¯•ç³»ç»ŸåŠŸèƒ½
3. ä¸Šä¼ ä½ çš„æ•°æ®
4. å¼€å§‹å¤šæ¨¡æ€æ£€ç´¢

**æœ‰é—®é¢˜ï¼Ÿ** æŸ¥çœ‹ `README_å¤šæ¨¡æ€ç³»ç»Ÿ.md` è·å–è¯¦ç»†è¯´æ˜ï¼

---

**ğŸš€ è®©AIç†è§£ä½ çš„æ‰€æœ‰æ•°æ®ï¼Œæ„å»ºçœŸæ­£çš„æ™ºèƒ½ä¼ä¸šçŸ¥è¯†åº“ï¼**
